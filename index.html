<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Color Tab App</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=2">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=2">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=2">
  <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png?v=2">
  <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png?v=2">
  <link rel="manifest" href="/site.webmanifest?v=2">
  <link rel="icon" href="/favicon.ico?v=2" type="image/x-icon">
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js"></script>
  <script defer src="/chroma.min.js" onerror="console.error('Chroma.js CDN failed, loaded local fallback')"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f9f9f9;
    }
    .nav button {
      margin: 5px;
      padding: 10px 15px;
      cursor: pointer;
    }
    .tab {
      display: none;
      padding: 20px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    .tab.active {
      display: block !important;
      visibility: visible !important;
    }
    .swatch {
      width: 100px;
      height: 100px;
      margin: 10px;
      display: inline-block;
      border: 1px solid #333;
    }
    .input-container {
      margin-bottom: 15px;
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .help-text {
      font-size: 0.9em;
      color: #666;
    }
  </style>
  <script>
    function showTab(tabId) {
      console.log(`Showing tab: ${tabId}`);
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      const target = document.getElementById(tabId);
      if (target) {
        target.classList.add('active');
        console.log(`Tab ${tabId} set to active`);
      } else {
        console.error(`Tab not found: ${tabId}`);
      }
    }
  </script>
</head>
<body>
  <h1>ðŸŽ¨ Color Tools App</h1>
  <div class="nav">
    <button data-tab="swatch" onclick="showTab('swatch')">Color Swatches</button>
    <button data-tab="converter" onclick="showTab('converter')">RGBA â†” HEX Converter</button>
    <button data-tab="palette" onclick="showTab('palette')">Palette Viewer</button>
    <button data-tab="gallery" onclick="showTab('gallery')">Gradient Gallery</button>
    <button data-tab="copilot" onclick="showTab('copilot')">Copilot</button>
  </div>

  <!-- Tab 1: Swatch -->
  <div id="swatch" class="tab active">
    <h2>Color Swatches</h2>
    <div class="input-container">
      <label for="colorInput">Enter a list of colors (HEX or RGBA):</label>
      <input type="text" id="colorInput" placeholder="e.g. #fdab33, (0.2, 0.6, 0.8, 0.7), #33fdab, (0.8, 0.2, 0.5, 1.0)">
      <button onclick="generateSwatches()">Generate Swatches</button>
    </div>
    <p class="help-text">
      Examples of valid formats:<br>
      Single: <code>#fdab33</code> or <code>(0.2, 0.6, 0.8, 0.7)</code><br>
      Multiple:
